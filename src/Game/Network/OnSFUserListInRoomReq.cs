using Shared.Network;
using Shared.Util.Log.Factories;
using System;
using System.Collections.Generic;
using System.Text;

namespace Game.Network
{
    internal class OnSFUserListInRoomReq : BaseNetwork
    {
        public int ProtocolId()
        {
            return 304;
        }

        public void Handle(Packet packet, Shared.Session.Session session)
        {
            
            // i think this is for indication of server/channel/room no. yeah correct
            //session.SendRaw(new byte[] { 0x03, 0x00, 0x00, 0x00, 0x2f, 0x01, 0x01, 0x7e, 0x00 });
            session.SendRaw(new byte[] { 0x03, 0x00, 0x00, 0x00, 0x2f, 0x01, 0x02, 0x21, 0x00 }); // from sfrush // server indication

            
            Packet roomInfo = new Packet(new byte[] { 0x3c, 0x00, 0x00, 0x00, 0x31, 0x01, 0x01, 0x00,
0x54, 0x05, 0x57, 0x61, 0x73, 0x73, 0x61, 0x62,
0x79, 0x79, 0x00, 0x00, 0x00, 0x00, 0x4e, 0x00,
0x00, 0x01, 0x05, 0x04, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x01, 0x01,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x30, 0x00, 0x07, 0x1e, 0x00, 0x00, 0x00,
0x00, 0x00 });

            roomInfo.Dump();
            session.SendPacket(roomInfo);
           /*session.SendRaw(new byte[] { 0x41, 0x00, 0x00, 0x00, 0x31, 0x01, 0x01, 0x00,
 0x76, 0x07, 0x54, 0x72, 0x75, 0x6e, 0x6b, 0x73,
 0x4b, 0x75, 0x32, 0x32, 0x00, 0x00, 0x00, 0x00,
 0x4e, 0x00, 0x00, 0x01, 0xf8, 0x03, 0x00, 0x00,
 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,
 0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00,
 0x07, 0x1e, 0x00, 0x00, 0x00, 0x00, 0x00});*/
            // data from rush

            /*session.SendRaw(new byte[] {0x3c, 0x00, 0x00, 0x00, 0x31, 0x01, 0x01, 0x00,
0x43, 0x07, 0x57, 0x61, 0x73, 0x73, 0x61, 0x62,
0x79, 0x79, 0x00, 0x00, 0x00, 0x00, 0x4e, 0x00,
0x00, 0x01, 0x05, 0x04, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x01, 0x01,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x30, 0x00, 0x00, 0x1e, 0x00, 0x00, 0x01,
0x00, 0x00});*/

           /* Packet data = new Packet();
            data.WriteProtocol(0x31);
            data.WriteInt(1);

            data.WriteString("TrunksKu22");
            data.WriteInt(1031);
            data.WriteString("hello");
            data.WriteInt(0);
            data.WriteInt(0);
            data.WriteInt(0);

            data.WriteInt(1);
            data.WriteInt(0);
            data.WriteInt(10);
            data.WriteInt(0);
            data.WriteInt(0);
            data.WriteInt(0);
            data.WriteInt(0);
            data.Dump();
            session.SendPacket(data);*/

            

            //session.SendRaw(new byte[] { 0x05, 0x00, 0x00, 0x00, 0x26, 0x02, 0x43, 0x07, 0x05, 0x04, 0x00 }); // from sfrush // idk msg?

            //session.SendRaw(new byte[] { 0x01, 0x00, 0x00, 0x00, 0x1f, 0x05, 0x1e }); // from sfrush // change the win
        }


    }
}
